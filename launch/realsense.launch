<?xml version="1.0"?>

<launch>

    <!-- ARGS -->
    <arg name="bagfile" default="$(find segmentation_projection)/data/belltower_walk.bag" />
    <arg name="neural_net_graph_path" default="$(find segmentation_projection)/config/graph_optimized_mobilenet_nclt_400p.pb" />	
    
    <!-- BAGFILE -->
    <node pkg="rosbag" type="play" name="player" output="screen" args="$(arg bagfile) -q" />

    <!-- RVIZ -->
    <?ignore
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(arg rvizfile)"/>
    ?>

    <!-- Run segmentation node -->

  <node pkg="segmentation_projection"     type="segmentation_projection_node" name="segmentation_projection_node" output="screen" clear_params="true" required="true" >
    <param name="labeled_pointcloud"   type="string" value="labeled_pointcloud">
    <param name="neural_net_graph"     type="string" value="$(arg neural_net_graph_path)"/>
    <param name="lidar"                type="string" value="/velodyne_points/points" />	
    <param name="camera_num"           type="int"    value=1 />
    <param name="image_0"              type="string" value="/camera0/image_raw" />
    <param name="cam2lidar_file_0"     type="string" value="$(find segmentation_projection)/config/realsense2lidar.npy"/>
    <param name="cam_intrinsic_file_0" type="string" value="$(find segmentation_projection)/config/realsense_intrinsic.npy"/>	

  </node>




 
</launch>